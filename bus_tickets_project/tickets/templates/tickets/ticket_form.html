{% extends 'base.html' %}

{% block title %}{% if object %}Редактирование{% else %}Создание{% endif %} заказа - Система заказа билетов{% endblock %}
{% block header %}{% if object %}Редактирование{% else %}Создание{% endif %} заказа билета{% endblock %}

{% block content %}
<div class="card">
    <div class="card-body">
        <form method="post">
            {% csrf_token %}
            
            {% if form.non_field_errors %}
            <div class="alert alert-danger">
                {% for error in form.non_field_errors %}
                {{ error }}
                {% endfor %}
            </div>
            {% endif %}
            
            <div class="row mb-3">
                <div class="col-md-6">
                    <label for="{{ form.passenger.id_for_label }}" class="form-label">{{ form.passenger.label }}</label>
                    {{ form.passenger }}
                    {% if form.passenger.errors %}
                    <div class="text-danger">{{ form.passenger.errors }}</div>
                    {% endif %}
                </div>
                <div class="col-md-6">
                    <label for="{{ form.flight.id_for_label }}" class="form-label">{{ form.flight.label }}</label>
                    {{ form.flight }}
                    {% if form.flight.errors %}
                    <div class="text-danger">{{ form.flight.errors }}</div>
                    {% endif %}
                </div>
            </div>
            
            <div class="row mb-3">
                <div class="col-md-4">
                    <label for="{{ form.operator.id_for_label }}" class="form-label">{{ form.operator.label }}</label>
                    {{ form.operator }}
                    {% if form.operator.errors %}
                    <div class="text-danger">{{ form.operator.errors }}</div>
                    {% endif %}
                </div>
                <div class="col-md-4">
                    <label for="{{ form.departure_date.id_for_label }}" class="form-label">{{ form.departure_date.label }}</label>
                    {{ form.departure_date }}
                    {% if form.departure_date.errors %}
                    <div class="text-danger">{{ form.departure_date.errors }}</div>
                    {% endif %}
                </div>
                <div class="col-md-4">
                    <label for="{{ form.seat_number.id_for_label }}" class="form-label">{{ form.seat_number.label }}</label>
                    {{ form.seat_number }}
                    {% if form.seat_number.errors %}
                    <div class="text-danger">{{ form.seat_number.errors }}</div>
                    {% endif %}
                </div>
            </div>
            
            <div class="row mb-3">
                <div class="col-md-6">
                    <label for="{{ form.price.id_for_label }}" class="form-label">{{ form.price.label }}</label>
                    {{ form.price }}
                    {% if form.price.errors %}
                    <div class="text-danger">{{ form.price.errors }}</div>
                    {% endif %}
                </div>
                <div class="col-md-6">
                    <label for="{{ form.status.id_for_label }}" class="form-label">{{ form.status.label }}</label>
                    {{ form.status }}
                    {% if form.status.errors %}
                    <div class="text-danger">{{ form.status.errors }}</div>
                    {% endif %}
                </div>
            </div>
            
            <div class="mb-3">
                <label for="{{ form.notes.id_for_label }}" class="form-label">{{ form.notes.label }}</label>
                {{ form.notes }}
                {% if form.notes.errors %}
                <div class="text-danger">{{ form.notes.errors }}</div>
                {% endif %}
            </div>
            
            <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                <a href="{% url 'ticket_list' %}" class="btn btn-secondary me-md-2">Отмена</a>
                <button type="submit" class="btn btn-primary">Сохранить</button>
            </div>
        </form>
    </div>
</div>
{% endblock %}